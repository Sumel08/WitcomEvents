//# sourceMappingURL=colordialog.js.map
CKEDITOR.dialog.add("colordialog",function(w){function q(){h.getById(r).removeStyle("background-color");t.getContentElement("picker","selectedColor").setValue("");l&&l.removeAttribute("aria-selected");l=null}function x(a){a=a.data.getTarget();var c;"td"==a.getName()&&(c=a.getChild(0).getHtml())&&(l=a,l.setAttribute("aria-selected",!0),t.getContentElement("picker","selectedColor").setValue(c))}function B(a){a=a.replace(/^#/,"");for(var c=0,b=[];2>=c;c++)b[c]=parseInt(a.substr(2*c,2),16);return"#"+
(165<=.2126*b[0]+.7152*b[1]+.0722*b[2]?"000":"fff")}function y(a){!a.name&&(a=new CKEDITOR.event(a));var c=!/mouse/.test(a.name),b=a.data.getTarget(),d;"td"==b.getName()&&(d=b.getChild(0).getHtml())&&(u(a),c?f=b:z=b,c&&(b.setStyle("border-color",B(d)),b.setStyle("border-style","dotted")),h.getById(m).setStyle("background-color",d),h.getById(n).setHtml(d))}function u(a){if(a=!/mouse/.test(a.name)&&f){var c=a.getChild(0).getHtml();a.setStyle("border-color",c);a.setStyle("border-style","solid")}f||z||
(h.getById(m).removeStyle("background-color"),h.getById(n).setHtml("&nbsp;"))}function C(a){var c=a.data,b=c.getTarget(),d=c.getKeystroke(),e="rtl"==w.lang.dir;switch(d){case 38:if(a=b.getParent().getPrevious())a=a.getChild([b.getIndex()]),a.focus();c.preventDefault();break;case 40:(a=b.getParent().getNext())&&(a=a.getChild([b.getIndex()]))&&1==a.type&&a.focus();c.preventDefault();break;case 32:case 13:x(a);c.preventDefault();break;case e?37:39:(a=b.getNext())?1==a.type&&(a.focus(),c.preventDefault(!0)):
(a=b.getParent().getNext())&&(a=a.getChild([0]))&&1==a.type&&(a.focus(),c.preventDefault(!0));break;case e?39:37:if(a=b.getPrevious())a.focus(),c.preventDefault(!0);else if(a=b.getParent().getPrevious())a=a.getLast(),a.focus(),c.preventDefault(!0)}}var v=CKEDITOR.dom.element,h=CKEDITOR.document,g=w.lang.colordialog,t,A={type:"html",html:"&nbsp;"},l,f,z,p=function(a){return CKEDITOR.tools.getNextId()+"_"+a},m=p("hicolor"),n=p("hicolortext"),r=p("selhicolor"),k;(function(){function a(a,e){for(var d=
a;d<a+3;d++){var h=new v(k.$.insertRow(-1));h.setAttribute("role","row");for(var f=e;f<e+3;f++)for(var g=0;6>g;g++)c(h.$,"#"+b[f]+b[g]+b[d])}}function c(a,b){a=new v(a.insertCell(-1));a.setAttribute("class","ColorCell");a.setAttribute("tabIndex",-1);a.setAttribute("role","gridcell");a.on("keydown",C);a.on("click",x);a.on("focus",y);a.on("blur",u);a.setStyle("background-color",b);a.setStyle("border","1px solid "+b);a.setStyle("width","14px");a.setStyle("height","14px");var c=p("color_table_cell");
a.setAttribute("aria-labelledby",c);a.append(CKEDITOR.dom.element.createFromHtml('<span id="'+c+'" class="cke_voice_label">'+b+"</span>",CKEDITOR.document))}k=CKEDITOR.dom.element.createFromHtml('<table tabIndex="-1" aria-label="'+g.options+'" role="grid" style="border-collapse:separate;" cellspacing="0"><caption class="cke_voice_label">'+g.options+'</caption><tbody role="presentation"></tbody></table>');k.on("mouseover",y);k.on("mouseout",u);var b="00 33 66 99 cc ff".split(" ");a(0,0);a(3,0);a(0,
3);a(3,3);var d=new v(k.$.insertRow(-1));d.setAttribute("role","row");for(var e=0;6>e;e++)c(d.$,"#"+b[e]+b[e]+b[e]);for(e=0;12>e;e++)c(d.$,"#000000")})();return{title:g.title,minWidth:360,minHeight:220,onLoad:function(){t=this},onHide:function(){q();var a=f.getChild(0).getHtml();f.setStyle("border-color",a);f.setStyle("border-style","solid");h.getById(m).removeStyle("background-color");h.getById(n).setHtml("&nbsp;");f=null},contents:[{id:"picker",label:g.title,accessKey:"I",elements:[{type:"hbox",
padding:0,widths:["70%","10%","30%"],children:[{type:"html",html:"<div></div>",onLoad:function(){CKEDITOR.document.getById(this.domId).append(k)},focus:function(){(f||this.getElement().getElementsByTag("td").getItem(0)).focus()}},A,{type:"vbox",padding:0,widths:["70%","5%","25%"],children:[{type:"html",html:"<span>"+g.highlight+'</span>\t\t\t\t\t\t\t\t\t\t\t\t<div id="'+m+'" style="border: 1px solid; height: 74px; width: 74px;"></div>\t\t\t\t\t\t\t\t\t\t\t\t<div id="'+n+'">&nbsp;</div><span>'+g.selected+
'</span>\t\t\t\t\t\t\t\t\t\t\t\t<div id="'+r+'" style="border: 1px solid; height: 20px; width: 74px;"></div>'},{type:"text",label:g.selected,labelStyle:"display:none",id:"selectedColor",style:"width: 74px",onChange:function(){try{h.getById(r).setStyle("background-color",this.getValue())}catch(a){q()}}},A,{type:"button",id:"clear",style:"margin-top: 5px",label:g.clear,onClick:q}]}]}]}]}});