//# sourceMappingURL=tiny_mce_popup.js.map
var tinymce=null,tinyMCEPopup,tinyMCE;
tinyMCEPopup={init:function(){var a=this,b;b=a.getWin();tinymce=b.tinymce;tinyMCE=b.tinyMCE;a.editor=tinymce.EditorManager.activeEditor;a.params=a.editor.windowManager.params;a.features=a.editor.windowManager.features;b=a.editor.settings;!1!==b.popup_css&&(b.popup_css=b.popup_css?a.documentBaseURI.toAbsolute(b.popup_css):a.baseURI.toAbsolute("themes/"+b.theme+"/skins/"+b.skin+"/dialog.css"));b.popup_css_add&&(b.popup_css+=","+a.documentBaseURI.toAbsolute(b.popup_css_add));a.dom=a.editor.windowManager.createInstance("tinymce.dom.DOMUtils",
document,{ownEvents:!0,proxy:tinyMCEPopup._eventProxy});a.dom.bind(window,"ready",a._onDOMLoaded,a);!1!==a.features.popup_css&&a.dom.loadCSS(a.features.popup_css||a.editor.settings.popup_css);a.listeners=[];a.onInit={add:function(b,c){a.listeners.push({func:b,scope:c})}};a.isWindow=!a.getWindowArg("mce_inline");a.id=a.getWindowArg("mce_window_id")},getWin:function(){return!window.frameElement&&window.dialogArguments||opener||parent||top},getWindowArg:function(a,b){a=this.params[a];return tinymce.is(a)?
a:b},getParam:function(a,b){return this.editor.getParam(a,b)},getLang:function(a,b){return this.editor.getLang(a,b)},execCommand:function(a,b,d,c){c=c||{};c.skip_focus=1;this.restoreSelection();return this.editor.execCommand(a,b,d,c)},resizeToInnerSize:function(){var a=this;setTimeout(function(){var b=a.dom.getViewPort(window);a.editor.windowManager.resizeBy(a.getWindowArg("mce_width")-b.w,a.getWindowArg("mce_height")-b.h,a.id||window)},10)},executeOnLoad:function(a){this.onInit.add(function(){eval(a)})},
storeSelection:function(){this.editor.windowManager.bookmark=tinyMCEPopup.editor.selection.getBookmark(1)},restoreSelection:function(){var a=tinyMCEPopup;!a.isWindow&&tinymce.isIE&&a.editor.selection.moveToBookmark(a.editor.windowManager.bookmark)},requireLangPack:function(){var a=this.getWindowArg("plugin_url")||this.getWindowArg("theme_url");a&&this.editor.settings.language&&!1!==this.features.translate_i18n&&!1!==this.editor.settings.language_load&&(a+="/langs/"+this.editor.settings.language+"_dlg.js",
tinymce.ScriptLoader.isDone(a)||(document.write('<script type="text/javascript" src="'+a+'">\x3c/script>'),tinymce.ScriptLoader.markDone(a)))},pickColor:function(a,b){this.execCommand("mceColorPicker",!0,{color:document.getElementById(b).value,func:function(a){document.getElementById(b).value=a;try{document.getElementById(b).onchange()}catch(c){}}})},openBrowser:function(a,b,d){tinyMCEPopup.restoreSelection();this.editor.execCallback("file_browser_callback",a,document.getElementById(a).value,b,window)},
confirm:function(a,b,d){this.editor.windowManager.confirm(a,b,d,window)},alert:function(a,b,d){this.editor.windowManager.alert(a,b,d,window)},close:function(){function a(){b.editor.windowManager.close(window);tinymce=tinyMCE=b.editor=b.params=b.dom=b.dom.doc=null}var b=this;tinymce.isOpera?b.getWin().setTimeout(a,0):a()},_restoreSelection:function(){var a=window.event.srcElement;"INPUT"!=a.nodeName||"submit"!=a.type&&"button"!=a.type||tinyMCEPopup.restoreSelection()},_onDOMLoaded:function(){var a=
tinyMCEPopup,b=document.title,d,c;!1!==a.features.translate_i18n&&(d=document.body.innerHTML,tinymce.isIE&&(d=d.replace(/ (value|title|alt)=([^"][^\s>]+)/gi,' $1="$2"')),document.dir=a.editor.getParam("directionality",""),(c=a.editor.translate(d))&&c!=d&&(document.body.innerHTML=c),(c=a.editor.translate(b))&&c!=b&&(document.title=b=c));a.editor.getParam("browser_preferred_colors",!1)&&a.isWindow||a.dom.addClass(document.body,"forceColors");document.body.style.display="";tinymce.isIE&&(document.attachEvent("onmouseup",
tinyMCEPopup._restoreSelection),a.dom.add(a.dom.select("head")[0],"base",{target:"_self"}));a.restoreSelection();a.resizeToInnerSize();a.isWindow?window.focus():a.editor.windowManager.setTitle(window,b);tinymce.isIE||a.isWindow||a.dom.bind(document,"focus",function(){a.editor.windowManager.focus(a.id)});tinymce.each(a.dom.select("select"),function(a){a.onkeydown=tinyMCEPopup._accessHandler});tinymce.each(a.listeners,function(b){b.func.call(b.scope,a.editor)});a.getWindowArg("mce_auto_focus",!0)&&
(window.focus(),tinymce.each(document.forms,function(b){tinymce.each(b.elements,function(b){if(a.dom.hasClass(b,"mceFocus")&&!b.disabled)return b.focus(),!1})}));document.onkeyup=tinyMCEPopup._closeWinKeyHandler},_accessHandler:function(a){a=a||window.event;if(13==a.keyCode||32==a.keyCode){var b=a.target||a.srcElement;if(b.onchange)b.onchange();return tinymce.dom.Event.cancel(a)}},_closeWinKeyHandler:function(a){a=a||window.event;27==a.keyCode&&tinyMCEPopup.close()},_eventProxy:function(a){return function(b){tinyMCEPopup.dom.events.callNativeHandler(a,
b)}}};tinyMCEPopup.init();