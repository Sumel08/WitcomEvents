//# sourceMappingURL=validate.js.map
var Validator={isEmail:function(a){return this.test(a,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},isAbsUrl:function(a){return this.test(a,"^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\.]+\\/?.*$")},isSize:function(a){return this.test(a,"^[0-9.]+(%|in|cm|mm|em|ex|pt|pc|px)?$")},isId:function(a){return this.test(a,"^[A-Za-z_]([A-Za-z0-9_])*$")},isEmpty:function(a){var b,d;if("SELECT"==a.nodeName&&1>a.selectedIndex||"checkbox"==
a.type&&!a.checked)return!0;if("radio"==a.type){d=0;for(b=a.form.elements;d<b.length;d++)if("radio"==b[d].type&&b[d].name==a.name&&b[d].checked)return!1;return!0}return/^\s*$/.test(1==a.nodeType?a.value:a)},isNumber:function(a,b){return!isNaN(1==a.nodeType?a.value:a)&&(!b||!this.test(a,"^-?[0-9]*\\.[0-9]*$"))},test:function(a,b){a=1==a.nodeType?a.value:a;return""==a||(new RegExp(b)).test(a)}},AutoValidator={settings:{id_cls:"id",int_cls:"int",url_cls:"url",number_cls:"number",email_cls:"email",size_cls:"size",
required_cls:"required",invalid_cls:"invalid",min_cls:"min",max_cls:"max"},init:function(a){for(var b in a)this.settings[b]=a[b]},validate:function(a){var b,d,c=this.settings,e=0;d=this.tags(a,"label");for(b=0;b<d.length;b++)this.removeClass(d[b],c.invalid_cls),d[b].setAttribute("aria-invalid",!1);e+=this.validateElms(a,"input");e+=this.validateElms(a,"select");e+=this.validateElms(a,"textarea");return 3==e},invalidate:function(a){this.mark(a.form,a)},getErrorMessages:function(a){var b,d=this.settings,
c,e,f=[],g=tinyMCEPopup.editor;a=this.tags(a,"label");for(b=0;b<a.length;b++)this.hasClass(a[b],d.invalid_cls)&&(c=document.getElementById(a[b].getAttribute("for")),e={field:a[b].textContent},this.hasClass(c,d.min_cls,!0)?(message=g.getLang("invalid_data_min"),e.min=this.getNum(c,d.min_cls)):message=this.hasClass(c,d.number_cls)?g.getLang("invalid_data_number"):this.hasClass(c,d.size_cls)?g.getLang("invalid_data_size"):g.getLang("invalid_data"),message=message.replace(/{\#([^}]+)\}/g,function(a,b){return e[b]||
"{#"+b+"}"}),f.push(message));return f},reset:function(a){var b=["label","input","select","textarea"],d,c,e,f=this.settings;if(null!=a)for(d=0;d<b.length;d++)for(e=this.tags(a.form?a.form:a,b[d]),c=0;c<e.length;c++)this.removeClass(e[c],f.invalid_cls),e[c].setAttribute("aria-invalid",!1)},validateElms:function(a,b){var d,c,e=this.settings,f=!0,g=Validator,h;b=this.tags(a,b);for(d=0;d<b.length;d++)c=b[d],this.removeClass(c,e.invalid_cls),this.hasClass(c,e.required_cls)&&g.isEmpty(c)&&(f=this.mark(a,
c)),this.hasClass(c,e.number_cls)&&!g.isNumber(c)&&(f=this.mark(a,c)),this.hasClass(c,e.int_cls)&&!g.isNumber(c,!0)&&(f=this.mark(a,c)),this.hasClass(c,e.url_cls)&&!g.isAbsUrl(c)&&(f=this.mark(a,c)),this.hasClass(c,e.email_cls)&&!g.isEmail(c)&&(f=this.mark(a,c)),this.hasClass(c,e.size_cls)&&!g.isSize(c)&&(f=this.mark(a,c)),this.hasClass(c,e.id_cls)&&!g.isId(c)&&(f=this.mark(a,c)),this.hasClass(c,e.min_cls,!0)&&(h=this.getNum(c,e.min_cls),isNaN(h)||parseInt(c.value)<parseInt(h))&&(f=this.mark(a,c)),
this.hasClass(c,e.max_cls,!0)&&(h=this.getNum(c,e.max_cls),isNaN(h)||parseInt(c.value)>parseInt(h))&&(f=this.mark(a,c));return f},hasClass:function(a,b,d){return(new RegExp("\\b"+b+(d?"[0-9]+":"")+"\\b","g")).test(a.className)},getNum:function(a,b){b=a.className.match(new RegExp("\\b"+b+"([0-9]+)\\b","g"))[0];return b=b.replace(/[^0-9]/g,"")},addClass:function(a,b,d){var c=this.removeClass(a,b);a.className=d?b+(""!=c?" "+c:""):(""!=c?c+" ":"")+b},removeClass:function(a,b){b=a.className.replace(new RegExp("(^|\\s+)"+
b+"(\\s+|$)")," ");return a.className=" "!=b?b:""},tags:function(a,b){return a.getElementsByTagName(b)},mark:function(a,b){var d=this.settings;this.addClass(b,d.invalid_cls);b.setAttribute("aria-invalid","true");this.markLabels(a,b,d.invalid_cls);return!1},markLabels:function(a,b,d){var c;a=this.tags(a,"label");for(c=0;c<a.length;c++)a[c].getAttribute("for")!=b.id&&a[c].htmlFor!=b.id||this.addClass(a[c],d);return null}};