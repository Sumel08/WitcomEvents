//# sourceMappingURL=mctabs.js.map
function MCTabs(){this.settings=[];this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(a){this.settings=a};MCTabs.prototype.getParam=function(a,b){a="undefined"==typeof this.settings[a]?b:this.settings[a];return"true"==a||"false"==a?"true"==a:a};MCTabs.prototype.showTab=function(a){a.className="current";a.setAttribute("aria-selected",!0);a.setAttribute("aria-expanded",!0);a.tabIndex=0};
MCTabs.prototype.hideTab=function(a){a.className="";a.setAttribute("aria-selected",!1);a.setAttribute("aria-expanded",!1);a.tabIndex=-1};MCTabs.prototype.showPanel=function(a){a.className="current";a.setAttribute("aria-hidden",!1)};MCTabs.prototype.hidePanel=function(a){a.className="panel";a.setAttribute("aria-hidden",!0)};MCTabs.prototype.getPanelForTab=function(a){return tinyMCEPopup.dom.getAttrib(a,"aria-controls")};
MCTabs.prototype.displayTab=function(a,b,f){var e,c,d;a=document.getElementById(a);void 0===b&&(b=this.getPanelForTab(a));e=(b=document.getElementById(b))?b.parentNode:null;c=a?a.parentNode:null;this.getParam("selection_class","current");if(a&&c){c=c.childNodes;for(d=0;d<c.length;d++)"LI"==c[d].nodeName&&this.hideTab(c[d]);this.showTab(a)}if(b&&e){c=e.childNodes;for(d=0;d<c.length;d++)"DIV"==c[d].nodeName&&this.hidePanel(c[d]);f||a.focus();this.showPanel(b)}};
MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;return-1!=(a=b.lastIndexOf("#"))?b.substring(a+1):""};var mcTabs=new MCTabs;
tinyMCEPopup.onInit.add(function(){var a=tinyMCEPopup.getWin().tinymce,b=tinyMCEPopup.dom,f=a.each;f(b.select("div.tabs"),function(e){var c;b.setAttrib(e,"role","tablist");var d=tinyMCEPopup.dom.select("li",e),g=function(a){mcTabs.displayTab(a,mcTabs.getPanelForTab(a));mcTabs.onChange.dispatch(a)};f(d,function(a){b.setAttrib(a,"role","tab");b.bind(a,"click",function(b){g(a.id)})});b.bind(b.getRoot(),"keydown",function(b){9===b.keyCode&&b.ctrlKey&&!b.altKey&&(c.moveFocus(b.shiftKey?-1:1),a.dom.Event.cancel(b))});
f(b.select("a",e),function(a){b.setAttrib(a,"tabindex","-1")});c=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:e,items:d,onAction:g,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});