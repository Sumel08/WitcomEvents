//# sourceMappingURL=controller.js.map
var giTotalTestCount=0,giActiveModule=0,giModuleTests,giStartTime,giTest,gbStop=!1,gtoTest;function fnTestStart(a){gaoTest[giActiveModule].iTests++;document.getElementById("test_info").innerHTML+=giActiveModule+1+"."+(giModuleTests+1)+". "+a+"... ";document.getElementById("test_number").innerHTML=giTotalTestCount+1;giModuleTests++;giTotalTestCount++;gtoTest=setTimeout(function(){fnMessage('<span class="error">WARNING - test script stalled. Likely a JS error</span>');gbStop=!0},3E3)}
function fnTestResult(a){clearTimeout(gtoTest);a?fnMessage("Passed"):(fnMessage('<span class="error">FAILED</span>'),gbStop=!0,fnEnd(!1))}function fnUnitStart(a){gbStop||(giModuleTests=0,window.parent.test_arena.location.href=(0==a?"":"../")+"templates/"+gaoTest[a].sTemplate+".php?scripts="+gaoTest[a].sTest,giTest=a)}function fnStartMessage(a){fnMessage("<br><b>"+gaoTest[giTest].sGroup+" - "+a+"</b>")}
function fnMessage(a){var b=document.getElementById("test_info");b.innerHTML+=a+"<br>";b.scrollTop=b.scrollHeight}function fnUnitComplete(){giActiveModule<gaoTest.length-1?fnUnitStart(++giActiveModule):fnEnd(!0)}
function fnEnd(a){var b=(new Date).getTime(),b="<br>This test run took "+parseInt((b-giStartTime)/1E3,10)+" second(s) to complete.";a?$("#test_running").html("Tests complete. "+giTotalTestCount+" tests were run."+b):$("#test_running").html("Unit tests failed at test "+giTotalTestCount+"."+b)}$(document).ready(function(){giStartTime=(new Date).getTime();fnUnitStart(giActiveModule)});