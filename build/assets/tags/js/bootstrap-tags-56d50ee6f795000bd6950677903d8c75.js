//# sourceMappingURL=bootstrap-tags.js.map
(function(e){(function(){window.Tags||(window.Tags={});jQuery(function(){e.tags=function(d,c){var f,h,g,a=this;null==c&&(c={});for(f in c)g=c[f],this[f]=g;this.bootstrapVersion||(this.bootstrapVersion="3");this.readOnly||(this.readOnly=!1);this.suggestions||(this.suggestions=[]);this.restrictTo=null!=c.restrictTo?c.restrictTo.concat(this.suggestions):!1;this.exclude||(this.exclude=!1);this.displayPopovers=null!=c.popovers?!0:null!=c.popoverData;this.popoverTrigger||(this.popoverTrigger="hover");this.tagClass||
(this.tagClass="btn-info");this.tagSize||(this.tagSize="md");this.promptText||(this.promptText="Enter tags...");this.caseInsensitive||(this.caseInsensitive=!1);this.readOnlyEmptyMessage||(this.readOnlyEmptyMessage="No tags to display...");this.beforeAddingTag||(this.beforeAddingTag=function(a){});this.afterAddingTag||(this.afterAddingTag=function(a){});this.beforeDeletingTag||(this.beforeDeletingTag=function(a){});this.afterDeletingTag||(this.afterDeletingTag=function(a){});this.definePopover||(this.definePopover=
function(a){return'associated content for "'+a+'"'});this.excludes||(this.excludes=function(){return!1});this.tagRemoved||(this.tagRemoved=function(a){});this.pressedReturn||(this.pressedReturn=function(a){});this.pressedDelete||(this.pressedDelete=function(a){});this.pressedDown||(this.pressedDown=function(a){});this.pressedUp||(this.pressedUp=function(a){});this.$element=e(d);null!=c.tagData?this.tagsArray=c.tagData:(d=e(".tag-data",this.$element).html(),this.tagsArray=null!=d?d.split(","):[]);
if(c.popoverData)this.popoverArray=c.popoverData;else for(this.popoverArray=[],g=this.tagsArray,d=0,f=g.length;d<f;d++)h=g[d],this.popoverArray.push(null);this.getTags=function(){return a.tagsArray};this.getTagsContent=function(){return a.popoverArray};this.getTagsWithContent=function(){var b,c,d,e;b=[];c=d=0;for(e=a.tagsArray.length-1;0<=e?d<=e:d>=e;c=0<=e?++d:--d)b.push({tag:a.tagsArray[c],content:a.popoverArray[c]});return b};this.getTag=function(b){b=a.tagsArray.indexOf(b);return-1<b?a.tagsArray[b]:
null};this.getTagWithContent=function(b){b=a.tagsArray.indexOf(b);return{tag:a.tagsArray[b],content:a.popoverArray[b]}};this.hasTag=function(b){return-1<a.tagsArray.indexOf(b)};this.removeTagClicked=function(b){"A"===b.currentTarget.tagName&&(a.removeTag(e("span",b.currentTarget.parentElement).html()),e(b.currentTarget.parentNode).remove());return a};this.removeLastTag=function(){a.removeTag(a.tagsArray[a.tagsArray.length-1]);return a};this.removeTag=function(b){if(-1<a.tagsArray.indexOf(b)){if(!1===
a.beforeDeletingTag(b))return;a.popoverArray.splice(a.tagsArray.indexOf(b),1);a.tagsArray.splice(a.tagsArray.indexOf(b),1);a.renderTags();a.afterDeletingTag(b)}return a};this.addTag=function(b){var c;if((!1===a.restrictTo||-1!==a.restrictTo.indexOf(b))&&0>a.tagsArray.indexOf(b)&&0<b.length&&(!1===a.exclude||-1===a.exclude.indexOf(b))&&!a.excludes(b)){if(!1===a.beforeAddingTag(b))return;c=a.definePopover(b);a.popoverArray.push(c||null);a.tagsArray.push(b);a.afterAddingTag(b);a.renderTags()}return a};
this.addTagWithContent=function(b,c){if((!1===a.restrictTo||-1!==a.restrictTo.indexOf(b))&&0>a.tagsArray.indexOf(b)&&0<b.length){if(!1===a.beforeAddingTag(b))return;a.tagsArray.push(b);a.popoverArray.push(c);a.afterAddingTag(b);a.renderTags()}return a};this.renameTag=function(b,c){a.tagsArray[a.tagsArray.indexOf(b)]=c;a.renderTags();return a};this.setPopover=function(b,c){a.popoverArray[a.tagsArray.indexOf(b)]=c;a.renderTags();return a};this.keyDownHandler=function(b){switch(null!=b.keyCode?b.keyCode:
b.which){case 13:return a.pressedReturn(b),h=b.target.value,-1!==a.suggestedIndex&&(h=a.suggestionList[a.suggestedIndex]),a.addTag(h),b.target.value="",a.renderTags(),a.hideSuggestions();case 46:case 8:a.pressedDelete(b);""===b.target.value&&a.removeLastTag();if(1===b.target.value.length)return a.hideSuggestions();break;case 40:a.pressedDown(b);""!==a.input.val()||-1!==a.suggestedIndex&&null!=a.suggestedIndex||a.makeSuggestions(b,!0);b=a.suggestionList.length;a.suggestedIndex=a.suggestedIndex<b-1?
a.suggestedIndex+1:b-1;a.selectSuggested(a.suggestedIndex);if(0<=a.suggestedIndex)return a.scrollSuggested(a.suggestedIndex);break;case 38:a.pressedUp(b);a.suggestedIndex=0<a.suggestedIndex?a.suggestedIndex-1:0;a.selectSuggested(a.suggestedIndex);if(0<=a.suggestedIndex)return a.scrollSuggested(a.suggestedIndex);break;case 9:case 27:return a.hideSuggestions(),a.suggestedIndex=-1}};this.keyUpHandler=function(b){var c;c=null!=b.keyCode?b.keyCode:b.which;if(40!==c&&38!==c&&27!==c)return a.makeSuggestions(b,
!1)};this.getSuggestions=function(a,c){var d=this;this.caseInsensitive&&(a=a.toLowerCase());this.suggestionList=[];e.each(this.suggestions,function(e,f){e=d.caseInsensitive?f.substring(0,a.length):f.substring(0,a.length).toLowerCase();if(0>d.tagsArray.indexOf(f)&&e===a&&(0<a.length||c))return d.suggestionList.push(f)});return this.suggestionList};this.makeSuggestions=function(b,c){b=null!=b.target.value?b.target.value:b.target.textContent;a.suggestedIndex=-1;a.$suggestionList.html("");e.each(a.getSuggestions(b,
c),function(b,c){return a.$suggestionList.append(a.template("tags_suggestion",{suggestion:c}))});a.$(".tags-suggestion").mouseover(a.selectSuggestedMouseOver);a.$(".tags-suggestion").click(a.suggestedClicked);return 0<a.suggestionList.length?a.showSuggestions():a.hideSuggestions()};this.suggestedClicked=function(b){h=b.target.textContent;-1!==a.suggestedIndex&&(h=a.suggestionList[a.suggestedIndex]);a.addTag(h);a.input.val("");a.makeSuggestions(b,!1);a.input.focus();return a.hideSuggestions()};this.hideSuggestions=
function(){return a.$(".tags-suggestion-list").css({display:"none"})};this.showSuggestions=function(){return a.$(".tags-suggestion-list").css({display:"block"})};this.selectSuggestedMouseOver=function(b){e(".tags-suggestion").removeClass("tags-suggestion-highlighted");e(b.target).addClass("tags-suggestion-highlighted");e(b.target).mouseout(a.selectSuggestedMousedOut);return a.suggestedIndex=a.$(".tags-suggestion").index(e(b.target))};this.selectSuggestedMousedOut=function(a){return e(a.target).removeClass("tags-suggestion-highlighted")};
this.selectSuggested=function(b){e(".tags-suggestion").removeClass("tags-suggestion-highlighted");return a.$(".tags-suggestion").eq(b).addClass("tags-suggestion-highlighted")};this.scrollSuggested=function(b){var c;b=a.$(".tags-suggestion").eq(b);c=a.$(".tags-suggestion").eq(0);b=b.position();c=c.position();if(null!=b)return a.$(".tags-suggestion-list").scrollTop(b.top-c.top)};this.adjustInputPosition=function(){var b,c,d,f,g;f=a.$(".tag").last();g=f.position();b=null!=g?g.left+f.outerWidth(!0):0;
c=null!=g?g.top:0;d=a.$element.width()-b;e(".tags-input",a.$element).css({paddingLeft:Math.max(b,0),paddingTop:Math.max(c,0),width:d});b=null!=g?g.top+f.outerHeight(!0):22;return a.$element.css({paddingBottom:b-a.$element.height()})};this.renderTags=function(){var b;b=a.$(".tags");b.html("");a.input.attr("placeholder",0===a.tagsArray.length?a.promptText:"");e.each(a.tagsArray,function(c,d){d=e(a.formatTag(c,d));e("a",d).click(a.removeTagClicked);e("a",d).mouseover(a.toggleCloseColor);e("a",d).mouseout(a.toggleCloseColor);
a.displayPopovers&&a.initializePopoverFor(d,a.tagsArray[c],a.popoverArray[c]);return b.append(d)});return a.adjustInputPosition()};this.renderReadOnly=function(){var b;b=a.$(".tags");b.html(0===a.tagsArray.length?a.readOnlyEmptyMessage:"");return e.each(a.tagsArray,function(c,d){d=e(a.formatTag(c,d,!0));a.displayPopovers&&a.initializePopoverFor(d,a.tagsArray[c],a.popoverArray[c]);return b.append(d)})};this.initializePopoverFor=function(b,d,f){c={title:d,content:f,placement:"bottom"};"hoverShowClickHide"===
a.popoverTrigger?(e(b).mouseover(function(){e(b).popover("show");return e(".tag").not(b).popover("hide")}),e(document).click(function(){return e(b).popover("hide")})):c.trigger=a.popoverTrigger;return e(b).popover(c)};this.toggleCloseColor=function(a){var c;c=e(a.currentTarget);a=c.css("opacity");return c.css({opacity:.8>a?1:.6})};this.formatTag=function(b,c,d){null==d&&(d=!1);b=c.replace("<","&lt;").replace(">","&gt;");return a.template("tag",{tag:b,tagClass:a.tagClass,isPopover:a.displayPopovers,
isReadOnly:d,tagSize:a.tagSize})};this.addDocumentListeners=function(){return e(document).mouseup(function(b){if(0===a.$(".tags-suggestion-list").has(b.target).length)return a.hideSuggestions()})};this.template=function(a,c){return Tags.Templates.Template(this.getBootstrapVersion(),a,c)};this.$=function(a){return e(a,this.$element)};this.getBootstrapVersion=function(){return Tags.bootstrapVersion||this.bootstrapVersion};this.initializeDom=function(){return this.$element.append(this.template("tags_container"))};
this.init=function(){this.$element.addClass("bootstrap-tags").addClass("bootstrap-"+this.getBootstrapVersion());this.initializeDom();if(this.readOnly)return this.renderReadOnly(),this.removeTag=function(){},this.removeTagClicked=function(){},this.removeLastTag=function(){},this.addTag=function(){},this.addTagWithContent=function(){},this.renameTag=function(){},this.setPopover=function(){};this.input=e(this.template("input",{tagSize:this.tagSize}));this.input.keydown(this.keyDownHandler);this.input.keyup(this.keyUpHandler);
this.$element.append(this.input);this.$suggestionList=e(this.template("suggestion_list"));this.$element.append(this.$suggestionList);this.renderTags();return this.addDocumentListeners()};this.init();return this};return e.fn.tags=function(d){var c,f;f={};c="number"===typeof d?d:-1;this.each(function(h,g){g=e(g);null==g.data("tags")&&g.data("tags",new e.tags(this,d));if(c===h||0===h)return f=g.data("tags")});return f}})}).call(this);(function(){window.Tags||(window.Tags={});Tags.Helpers||(Tags.Helpers=
{});Tags.Helpers.addPadding=function(d,c,e){null==c&&(c=1);null==e&&(e=!0);return e&&0!==c?Tags.Helpers.addPadding("&nbsp"+d+"&nbsp",c-1):d}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates)["2"]||(d["2"]={});Tags.Templates["2"].input=function(c){null==c&&(c={});return"<input type='text' class='tags-input input-"+function(){switch(c.tagSize){case "sm":return"small";case "md":return"medium";case "lg":return"large"}}()+"' />"}}).call(this);
(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates)["2"]||(d["2"]={});Tags.Templates["2"].tag=function(c){null==c&&(c={});return"<div class='tag label "+c.tagClass+" "+c.tagSize+"' "+(c.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(c.tag,2,c.isReadOnly)+"</span>    "+(c.isReadOnly?"":"<a><i class='remove icon-remove-sign icon-white' /></a>")+"  </div>"}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||
(Tags.Templates={});(d=Tags.Templates)["3"]||(d["3"]={});Tags.Templates["3"].input=function(c){null==c&&(c={});return"<input type='text' class='form-control tags-input input-"+c.tagSize+"' />"}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates)["3"]||(d["3"]={});Tags.Templates["3"].tag=function(c){null==c&&(c={});return"<div class='tag label "+c.tagClass+" "+c.tagSize+"' "+(c.isPopover?"rel='popover'":"")+">    <span>"+Tags.Helpers.addPadding(c.tag,
2,c.isReadOnly)+"</span>    "+(c.isReadOnly?"":"<a><i class='remove glyphicon glyphicon-remove-sign glyphicon-white' /></a>")+"  </div>"}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates).shared||(d.shared={});Tags.Templates.shared.suggestion_list=function(c){return'<ul class="tags-suggestion-list dropdown-menu"></ul>'}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates).shared||
(d.shared={});Tags.Templates.shared.tags_container=function(c){return'<div class="tags"></div>'}}).call(this);(function(){var d;window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});(d=Tags.Templates).shared||(d.shared={});Tags.Templates.shared.tags_suggestion=function(c){null==c&&(c={});return"<li class='tags-suggestion'>"+c.suggestion+"</li>"}}).call(this);(function(){window.Tags||(window.Tags={});Tags.Templates||(Tags.Templates={});Tags.Templates.Template=function(d,c,e){return null!=
Tags.Templates[d]&&null!=Tags.Templates[d][c]?Tags.Templates[d][c](e):Tags.Templates.shared[c](e)}}).call(this)})(window.jQuery);