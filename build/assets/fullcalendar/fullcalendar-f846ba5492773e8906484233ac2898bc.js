//# sourceMappingURL=fullcalendar.js.map
/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Sep 4 23:38:33 2012 -0700

*/
(function(g,x){function pb(a,c,b){function e(){setTimeout(function(){!w.start&&0!==g("body")[0].offsetWidth&&m()},0)}function d(a){if(!w||a!=w.name){D++;A();var c=w,b;c?((c.beforeHide||Ua)(),za(I,I.height()),c.element.hide()):za(I,1);I.css("overflow","hidden");(w=T[a])?w.element.show():w=T[a]=new X[a](b=aa=g("<div class='fc-view fc-view-"+a+"' style='position:absolute'/>").appendTo(I),u);c&&y.deactivateButton(c.name);y.activateButton(a);m();I.css("overflow","");c&&za(I,1);b||(w.afterShow||Ua)();D--}}
function m(b){if(0!==q.offsetWidth){D++;A();ba===x&&h();var G=!1;!w.start||b||C<w.start||C>=w.end?(w.render(C,b||0),t(!0),G=!0):w.sizeDirty?(w.clearEvents(),t(),G=!0):w.eventsDirty&&(w.clearEvents(),G=!0);w.sizeDirty=!1;w.eventsDirty=!1;b=G;!c.lazyFetching||L(w.visStart,w.visEnd)?B():b&&p();Q=a.outerWidth();y.updateTitle(w.title);b=new Date;b>=w.start&&b<w.end?y.disableButton("today"):y.enableButton("today");D--;w.trigger("viewDisplay",q)}}function k(){f();0!==q.offsetWidth&&(h(),t(),A(),w.clearEvents(),
w.renderEvents(W),w.sizeDirty=!1)}function f(){g.each(T,function(a,c){c.sizeDirty=!0})}function h(){ba=c.contentHeight?c.contentHeight:c.height?c.height-(G?G.height():0)-ra(I):Math.round(I.width()/Math.max(c.aspectRatio,.5))}function t(a){D++;w.setHeight(ba,a);aa&&(aa.css("position","relative"),aa=null);w.setWidth(I.width(),a);D--}function l(){if(!D)if(w.start){var c=++Y;setTimeout(function(){c!=Y||D||0===q.offsetWidth||Q==(Q=a.outerWidth())||(D++,k(),w.trigger("windowResize",q),D--)},200)}else e()}
function B(){r(w.visStart,w.visEnd)}function p(a){sa();0!==q.offsetWidth&&(w.clearEvents(),w.renderEvents(W,a),w.eventsDirty=!1)}function sa(){g.each(T,function(a,c){c.eventsDirty=!0})}function A(){w&&w.unselect()}var u=this;u.options=c;u.render=function(b){I?(h(),f(),sa(),m(b)):(a.addClass("fc"),c.isRTL&&a.addClass("fc-rtl"),c.theme&&a.addClass("ui-widget"),I=g("<div class='fc-content' style='position:relative'/>").prependTo(a),y=new qb(u,c),(G=y.render())&&a.prepend(G),d(c.defaultView),g(window).resize(l),
0!==g("body")[0].offsetWidth||e())};u.destroy=function(){g(window).unbind("resize",l);y.destroy();I.remove();a.removeClass("fc fc-rtl ui-widget")};u.refetchEvents=B;u.reportEvents=function(a){W=a;p()};u.reportEventChange=function(a){p(a)};u.rerenderEvents=p;u.changeView=d;u.select=function(a,c,b){w.select(a,c,b===x?!0:b)};u.unselect=A;u.prev=function(){m(-1)};u.next=function(){m(1)};u.prevYear=function(){Ea(C,-1);m()};u.nextYear=function(){Ea(C,1);m()};u.today=function(){C=new Date;m()};u.gotoDate=
function(a,c,b){a instanceof Date?C=n(a):Va(C,a,c,b);m()};u.incrementDate=function(a,c,b){a!==x&&Ea(C,a);c!==x&&Fa(C,c);b!==x&&v(C,b);m()};u.formatDate=function(a,b){return ea(a,b,c)};u.formatDates=function(a,b,G){return Ga(a,b,G,c)};u.getDate=function(){return n(C)};u.getView=function(){return w};u.option=function(a,b){if(b===x)return c[a];if("height"==a||"contentHeight"==a||"aspectRatio"==a)c[a]=b,k()};u.trigger=function(a,b){if(c[a])return c[a].apply(b||q,Array.prototype.slice.call(arguments,2))};
rb.call(u,c,b);var L=u.isFetchNeeded,r=u.fetchEvents,q=a[0],y,G,I,w,T={},Q,ba,aa,Y=0,D=0,C=new Date,W=[],H;Va(C,c.year,c.month,c.date);c.droppable&&g(document).bind("dragstart",function(a,b){var G=a.target,e=g(G);if(!e.parents(".fc").length){var d=c.dropAccept;if(g.isFunction(d)?d.call(G,e):e.is(d))H=G,w.dragStart(H,a,b)}}).bind("dragstop",function(a,b){H&&(w.dragStop(H,a,b),H=null)})}function qb(a,c){function b(b){var e=g("<td class='fc-header-"+b+"'/>");(b=c.header[b])&&g.each(b.split(" "),function(b){0<
b&&e.append("<span class='fc-header-space'/>");var h;g.each(this.split(","),function(b,f){if("title"==f)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),h&&h.addClass(d+"-corner-right"),h=null;else{var m;a[f]?m=a[f]:X[f]&&(m=function(){n.removeClass(d+"-state-hover");a.changeView(f)});if(m){b=c.theme?Ha(c.buttonIcons,f):null;var p=Ha(c.buttonText,f),n=g("<span class='fc-button fc-button-"+f+" "+d+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(b?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
b+"'/></span>":p)+"</span><span class='fc-button-effect'><span></span></span></span></span>");n&&(n.click(function(){n.hasClass(d+"-state-disabled")||m()}).mousedown(function(){n.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){n.removeClass(d+"-state-down")}).hover(function(){n.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){n.removeClass(d+"-state-hover").removeClass(d+"-state-down")}).appendTo(e),
h||n.addClass(d+"-corner-left"),h=n)}}});h&&h.addClass(d+"-corner-right")});return e}this.render=function(){d=c.theme?"ui":"fc";if(c.header)return e=g("<table class='fc-header' style='width:100%'/>").append(g("<tr/>").append(b("left")).append(b("center")).append(b("right")))};this.destroy=function(){e.remove()};this.updateTitle=function(a){e.find("h2").html(a)};this.activateButton=function(a){e.find("span.fc-button-"+a).addClass(d+"-state-active")};this.deactivateButton=function(a){e.find("span.fc-button-"+
a).removeClass(d+"-state-active")};this.disableButton=function(a){e.find("span.fc-button-"+a).addClass(d+"-state-disabled")};this.enableButton=function(a){e.find("span.fc-button-"+a).removeClass(d+"-state-disabled")};var e=g([]),d}function rb(a,c){function b(a,b){e(a,function(c){if(b==u){if(c){for(var e=0;e<c.length;e++)c[e].source=a,m(c[e]);q=q.concat(c)}L--;L||l(q)}})}function e(b,c){var d,f=J.sourceFetchers,k;for(d=0;d<f.length;d++){k=f[d](b,v,A,c);if(!0===k)return;if("object"==typeof k){e(k,c);
return}}if(d=b.events)g.isFunction(d)?(r++||h("loading",null,!0),d(n(v),n(A),function(a){c(a);--r||h("loading",null,!1)})):g.isArray(d)?c(d):c();else if(b.url){var q=b.success,m=b.error,t=b.complete;d=g.extend({},b.data||{});f=ta(b.startParam,a.startParam);k=ta(b.endParam,a.endParam);f&&(d[f]=Math.round(+v/1E3));k&&(d[k]=Math.round(+A/1E3));r++||h("loading",null,!0);g.ajax(g.extend({},sb,b,{data:d,success:function(a){a=a||[];var b=Aa(q,this,arguments);g.isArray(b)&&(a=b);c(a)},error:function(){Aa(m,
this,arguments);c()},complete:function(){Aa(t,this,arguments);--r||h("loading",null,!1)}}))}else c()}function d(a){g.isFunction(a)||g.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a});if("object"==typeof a){var b=a;b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[];for(var c=J.sourceNormalizers,d=0;d<c.length;d++)c[d](b);p.push(a);return a}}function m(b){var c=b.source||{},d=ta(c.ignoreTimezone,a.ignoreTimezone);b._id=b._id||(b.id===x?"_fc"+tb++:
b.id+"");b.date&&(b.start||(b.start=b.date),delete b.date);b._start=n(b.start=Ia(b.start,d));b.end=Ia(b.end,d);b.end&&b.end<=b.start&&(b.end=null);b._end=b.end?n(b.end):null;b.allDay===x&&(b.allDay=ta(c.allDayDefault,a.allDayDefault));b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[]}function k(a,b){return a&&b&&f(a)==f(b)}function f(a){return("object"==typeof a?a.events||a.url:"")||a}this.isFetchNeeded=function(a,b){return!v||a<v||b>A};this.fetchEvents=
function(a,c){v=a;A=c;q=[];a=++u;L=c=p.length;for(var d=0;d<c;d++)b(p[d],a)};this.addEventSource=function(a){if(a=d(a))L++,b(a,u)};this.removeEventSource=function(a){p=g.grep(p,function(b){return!k(b,a)});q=g.grep(q,function(b){return!k(b.source,a)});l(q)};this.updateEvent=function(a){var b,c=q.length,d,e=t().defaultEventEnd,f=a.start-a._start,k=a.end?a.end-(a._end||e(a)):0;for(b=0;b<c;b++)d=q[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+f),d.end=a.end?d.end?new Date(+d.end+k):new Date(+e(d)+
k):null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroudColor=a.backgroudColor,d.borderColor=a.borderColor,d.textColor=a.textColor,m(d));m(a);l(q)};this.renderEvent=function(a,b){m(a);a.source||(b&&(B.events.push(a),a.source=B),q.push(a));l(q)};this.removeEvents=function(a){if(a){if(!g.isFunction(a)){var b=a+"";a=function(a){return a._id==b}}q=g.grep(q,a,!0);for(c=0;c<p.length;c++)g.isArray(p[c].events)&&(p[c].events=g.grep(p[c].events,
a,!0))}else{q=[];for(var c=0;c<p.length;c++)g.isArray(p[c].events)&&(p[c].events=[])}l(q)};this.clientEvents=function(a){return g.isFunction(a)?g.grep(q,a):a?(a+="",g.grep(q,function(b){return b._id==a})):q};this.normalizeEvent=m;for(var h=this.trigger,t=this.getView,l=this.reportEvents,B={events:[]},p=[B],v,A,u=0,L=0,r=0,q=[],y=0;y<c.length;y++)d(c[y])}function Ea(a,c,b){a.setFullYear(a.getFullYear()+c);b||ja(a);return a}function Fa(a,c,b){if(+a){c=a.getMonth()+c;var e=n(a);e.setDate(1);e.setMonth(c);
a.setMonth(c);for(b||ja(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function v(a,c,b){if(+a){c=a.getDate()+c;var e=n(a);e.setHours(9);e.setDate(c);a.setDate(c);b||ja(a);Ja(a,e)}return a}function Ja(a,c){if(+a)for(;a.getDate()!=c.getDate();)a.setTime(+a+(a<c?1:-1)*ub)}function K(a,c){a.setMinutes(a.getMinutes()+c);return a}function ja(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function n(a,c){return c?ja(new Date(+a)):new Date(+a)}function Wa(){var a=
0,c;do c=new Date(1970,a++,1);while(c.getHours());return c}function V(a,c,b){for(c=c||1;!a.getDay()||b&&1==a.getDay()||!b&&6==a.getDay();)v(a,c);return a}function U(a,c){return Math.round((n(a,!0)-n(c,!0))/864E5)}function Va(a,c,b,e){c!==x&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c));b!==x&&b!=a.getMonth()&&(a.setDate(1),a.setMonth(b));e!==x&&a.setDate(e)}function Ia(a,c){if("object"==typeof a)return a;if("number"==typeof a)return new Date(1E3*a);if("string"==typeof a){if(a.match(/^\d+(\.\d+)?$/))return new Date(1E3*
parseFloat(a));c===x&&(c=!0);return Xa(a,c)||(a?new Date(a):null)}return null}function Xa(a,c){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var b=new Date(a[1],0,1);c||!a[13]?(c=new Date(a[1],0,1,9,0),a[3]&&(b.setMonth(a[3]-1),c.setMonth(a[3]-1)),a[5]&&(b.setDate(a[5]),c.setDate(a[5])),Ja(b,c),a[7]&&b.setHours(a[7]),a[8]&&b.setMinutes(a[8]),a[10]&&b.setSeconds(a[10]),a[12]&&b.setMilliseconds(1E3*
Number("0."+a[12])),Ja(b,c)):(b.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1),b.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?1E3*Number("0."+a[12]):0),a[14]&&(c=60*Number(a[16])+(a[18]?Number(a[18]):0),c*="-"==a[15]?1:-1,b=new Date(+b+6E4*c)));return b}function Ka(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(a[1],10);a[3]&&(c%=12,"p"==a[3].toLowerCase().charAt(0)&&(c+=12));return 60*c+(a[2]?parseInt(a[2],
10):0)}}function ea(a,c,b){return Ga(a,null,c,b)}function Ga(a,c,b,e){e=e||ua;var d=a,m=c,k,f=b.length,h,g,l,n="";for(k=0;k<f;k++)if(h=b.charAt(k),"'"==h)for(g=k+1;g<f;g++){if("'"==b.charAt(g)){d&&(n=g==k+1?n+"'":n+b.substring(k+1,g),k=g);break}}else if("("==h)for(g=k+1;g<f;g++){if(")"==b.charAt(g)){k=ea(d,b.substring(k+1,g),e);parseInt(k.replace(/\D/,""),10)&&(n+=k);k=g;break}}else if("["==h)for(g=k+1;g<f;g++){if("]"==b.charAt(g)){h=b.substring(k+1,g);k=ea(d,h,e);k!=ea(m,h,e)&&(n+=k);k=g;break}}else if("{"==
h)d=c,m=a;else if("}"==h)d=a,m=c;else{for(g=f;g>k;g--)if(l=vb[b.substring(k,g)]){d&&(n+=l(d,e));k=g-1;break}g==k&&d&&(n+=h)}return n}function va(a){if(a.end){var c=a.end;a=a.allDay;c=n(c);return a||c.getHours()||c.getMinutes()?v(c,1):ja(c)}return v(n(a.start),1)}function wb(a,c){return 100*(c.msLength-a.msLength)+(a.event.start-c.event.start)}function La(a,c,b,e){var d=[],g,k=a.length,f,h,t,l,v;for(g=0;g<k;g++)f=a[g],h=f.start,t=c[g],t>b&&h<e&&(h<b?(h=n(b),l=!1):l=!0,t>e?(t=n(e),v=!1):v=!0,d.push({event:f,
start:h,end:t,isStart:l,isEnd:v,msLength:t-h}));return d.sort(wb)}function Ma(a){var c=[],b,e=a.length,d,g,k,f;for(b=0;b<e;b++){d=a[b];for(g=0;;){k=!1;if(c[g])for(f=0;f<c[g].length;f++){var h=c[g][f];if(h.end>d.start&&h.start<d.end){k=!0;break}}if(k)g++;else break}c[g]?c[g].push(d):c[g]=[d]}return c}function Ya(a,c,b){a.unbind("mouseover").mouseover(function(a){for(var d=a.target,m;d!=this;)m=d,d=d.parentNode;(d=m._fci)!==x&&(m._fci=x,m=c[d],b(m.event,m.element,m),g(a.target).trigger(a));a.stopPropagation()})}
function wa(a,c,b){for(var e=0,d;e<a.length;e++)d=g(a[e]),d.width(Math.max(0,c-Na(d,b)))}function Za(a,c,b){for(var e=0,d;e<a.length;e++)d=g(a[e]),d.height(Math.max(0,c-ra(d,b)))}function Na(a,c){var b=(parseFloat(g.css(a[0],"paddingLeft",!0))||0)+(parseFloat(g.css(a[0],"paddingRight",!0))||0),e;e=(parseFloat(g.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(g.css(a[0],"borderRightWidth",!0))||0);b+=e;a=c?(parseFloat(g.css(a[0],"marginLeft",!0))||0)+(parseFloat(g.css(a[0],"marginRight",!0))||0):0;
return b+a}function ra(a,c){var b=(parseFloat(g.css(a[0],"paddingTop",!0))||0)+(parseFloat(g.css(a[0],"paddingBottom",!0))||0),e;e=(parseFloat(g.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(g.css(a[0],"borderBottomWidth",!0))||0);return b+e+(c?$a(a):0)}function $a(a){return(parseFloat(g.css(a[0],"marginTop",!0))||0)+(parseFloat(g.css(a[0],"marginBottom",!0))||0)}function za(a,c){c="number"==typeof c?c+"px":c;a.each(function(a,e){e.style.cssText+=";min-height:"+c+";_height:"+c})}function Ua(){}function ab(a,
c){return a-c}function Z(a){return(10>a?"0":"")+a}function Ha(a,c){if(a[c]!==x)return a[c];c=c.split(/(?=[A-Z])/);for(var b=c.length-1,e;0<=b;b--)if(e=a[c[b].toLowerCase()],e!==x)return e;return a[""]}function fa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function bb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Oa(a){a.attr("unselectable",
"on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Ba(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Pa(a,c){a.each(function(a,e){e.className=e.className.replace(/^fc-\w*/,"fc-"+xb[c.getDay()])})}function cb(a,c){var b=a.source||{},e=a.color,d=b.color,g=c("eventColor"),k=a.backgroundColor||e||b.backgroundColor||d||c("eventBackgroundColor")||g,e=a.borderColor||e||
b.borderColor||d||c("eventBorderColor")||g;a=a.textColor||b.textColor||c("eventTextColor");c=[];k&&c.push("background-color:"+k);e&&c.push("border-color:"+e);a&&c.push("color:"+a);return c.join(";")}function Aa(a,c,b){g.isFunction(a)&&(a=[a]);if(a){var e,d;for(e=0;e<a.length;e++)d=a[e].apply(c,b)||d;return d}}function ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==x)return arguments[a]}function Qa(a,c,b){function e(a){var b=a||1==H,c=p.start.getMonth(),d=ja(new Date),e,f,k;b&&I.each(function(a,
b){e=g(b);f=l(a);e.html(y(f,xa));Pa(e,f)});Q.each(function(a,k){e=g(k);f=l(a);f.getMonth()==c?e.removeClass("fc-other-month"):e.addClass("fc-other-month");+f==+d?e.addClass(S+"-state-highlight fc-today"):e.removeClass(S+"-state-highlight fc-today");e.find("div.fc-day-number").text(f.getDate());b&&Pa(e,f)});T.each(function(a,b){k=g(b);a<H?(k.show(),a==H-1?k.addClass("fc-last"):k.removeClass("fc-last")):k.hide()})}function d(a){if(!x("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),
b=l(b);A("dayClick",this,b,!0,a)}}function m(a,b,c){c&&P.build();c=n(p.visStart);for(var e=v(n(c),F),f=0;f<H;f++){var g=new Date(Math.max(c,a)),h=new Date(Math.min(e,b));if(g<h){var S;N?(S=U(h,c)*O+z+1,g=U(g,c)*O+z+1):(S=U(g,c),g=U(h,c));k(f,S,f,g-1).click(d).mousedown(q)}v(c,7);v(e,7)}}function k(b,c,d,e){b=P.rect(b,c,d,e,a);return L(b,a)}function f(a){return{row:Math.floor(U(a,p.visStart)/7),col:B(a.getDay())}}function h(a){return t(a.row,a.col)}function t(a,b){return v(n(p.visStart),7*a+b*O+z)}
function l(a){return t(Math.floor(a/F),a%F)}function B(a){return(a-Math.max(ga,E)+F)%F*O+z}var p=this;p.renderBasic=function(b,c,f,k){H=c;F=f;(N=x("isRTL"))?(O=-1,z=F-1):(O=1,z=0);ga=x("firstDay");E=x("weekends")?0:1;S=x("theme")?"ui":"fc";xa=x("columnFormat");if(c=!w){var h=S+"-widget-header",m=S+"-widget-content",n;f="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(n=0;n<F;n++)f+="<th class='fc- "+h+"'/>";f+="</tr></thead><tbody>";for(n=0;n<b;n++){f+="<tr class='fc-week"+
n+"'>";for(h=0;h<F;h++)f+="<td class='fc- "+m+" fc-day"+(n*F+h)+"'><div>"+(k?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";f+="</tr>"}b=g(f+"</tbody></table>").appendTo(a);G=b.find("thead");I=G.find("th");w=b.find("tbody");T=w.find("tr");Q=w.find("td");ba=Q.filter(":first-child");aa=T.eq(0).find("div.fc-day-content div");Ba(G.add(G.find("tr")));Ba(T);T.eq(0).addClass("fc-first");Q.click(d).mousedown(q);Y=g("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}else u();
e(c)};p.setHeight=function(a){C=a;a=C-G.height();var b,c,d;"variable"==x("weekMode")?b=c=Math.floor(a/(1==H?2:6)):(b=Math.floor(a/H),c=a-b*(H-1));ba.each(function(a,e){a<H&&(d=g(e),za(d.find("> div"),(a==H-1?c:b)-ra(d)))})};p.setWidth=function(a){D=a;R.clear();W=Math.floor(D/F);wa(I.slice(0,-1),W)};p.renderDayOverlay=m;p.defaultSelectionEnd=function(a,b){return n(a)};p.renderSelection=function(a,b,c){m(a,v(n(b),1),!0)};p.clearSelection=function(){r()};p.reportDayClick=function(a,b,c){var d=f(a);A("dayClick",
Q[d.row*F+d.col],a,b,c)};p.dragStart=function(a,b,c){M.start(function(a){r();a&&k(a.row,a.col,a.row,a.col)},b)};p.dragStop=function(a,b,c){var d=M.stop();r();d&&(d=h(d),A("drop",a,d,!0,b,c))};p.defaultEventEnd=function(a){return n(a.start)};p.getHoverListener=function(){return M};p.colContentLeft=function(a){return R.left(a)};p.colContentRight=function(a){return R.right(a)};p.dayOfWeekCol=B;p.dateCell=f;p.cellDate=h;p.cellIsAllDay=function(){return!0};p.allDayRow=function(a){return T.eq(a)};p.allDayBounds=
function(a){return{left:0,right:D}};p.getRowCnt=function(){return H};p.getColCnt=function(){return F};p.getColWidth=function(){return W};p.getDaySegmentContainer=function(){return Y};gb.call(p,a,c,b);hb.call(p);ib.call(p);yb.call(p);var x=p.opt,A=p.trigger,u=p.clearEvents,L=p.renderOverlay,r=p.clearOverlays,q=p.daySelectionMousedown,y=c.formatDate,G,I,w,T,Q,ba,aa,Y,D,C,W,H,F,P,M,R,N,O,z,ga,E,S,xa;Oa(a.addClass("fc-grid"));P=new jb(function(a,b){var c,d,e;I.each(function(a,f){c=g(f);d=c.offset().left;
a&&(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();T.each(function(b,f){b<H&&(c=g(f),d=c.offset().top,b&&(e[1]=d),e=[d],a[b]=e)});e[1]=d+c.outerHeight()});M=new kb(P);R=new lb(function(a){return aa.eq(a)})}function yb(){function a(a){var c=r(),d=q(),e=n(b.visStart),d=v(n(e),d),f=g.map(a,va),k,h,m,l,p,t,y=[];for(k=0;k<c;k++){h=Ma(La(a,f,e,d));for(m=0;m<h.length;m++)for(l=h[m],p=0;p<l.length;p++)t=l[p],t.row=k,t.level=m,y.push(t);v(e,7);v(d,7)}return y}function c(a,b){var c=A(),f;b.draggable({zIndex:9,
delay:50,opacity:e("dragOpacity"),revertDuration:e("dragRevertDuration"),start:function(g,k){d("eventDragStart",b,a,g,k);x(a,b);c.start(function(c,d,g,k){b.draggable("option","revert",!c||!g&&!k);L();c?(f=7*g+k*(e("isRTL")?-1:1),u(v(n(a.start),f),v(va(a),f))):f=0},g,"drag")},stop:function(e,g){c.stop();L();d("eventDragStop",b,a,e,g);f?p(this,a,f,0,a.allDay,e,g):(b.css("filter",""),l(a,b))}})}var b=this;b.renderEvents=function(b,c){f(b);y(a(b),c)};b.compileDaySegs=a;b.clearEvents=function(){h();K().empty()};
b.bindDaySeg=function(a,b,d){m(a)&&c(a,b);d.isEnd&&k(a)&&G(a,b,d);t(a,b)};mb.call(b);var e=b.opt,d=b.trigger,m=b.isEventDraggable,k=b.isEventResizable,f=b.reportEvents,h=b.reportEventClear,t=b.eventElementHandlers,l=b.showEvents,x=b.hideEvents,p=b.eventDrop,K=b.getDaySegmentContainer,A=b.getHoverListener,u=b.renderDayOverlay,L=b.clearOverlays,r=b.getRowCnt,q=b.getColCnt,y=b.renderDaySegs,G=b.resizableDayEvent}function nb(a,c,b){function e(){function a(){E.scrollTop(d)}var b=Wa(),c=n(b);c.setHours(q("firstHour"));
var d=p(b,c)+1;a();setTimeout(a,0)}function d(a){if(!q("selectable")){var b=Math.min(ca-1,Math.floor((a.pageX-D.offset().left-la)/Ca)),c=t(b),d=this.parentNode.className.match(/fc-slot(\d+)/);d?(d=parseInt(d[1])*q("slotMinutes"),c.setHours(Math.floor(d/60)),c.setMinutes(d%60+ma),y("dayClick",F[b],c,!1,a)):y("dayClick",F[b],c,!0,a)}}function m(a,b,c){c&&na.build();var e=n(r.visStart);ea?(c=U(b,e)*ha+ia+1,a=U(a,e)*ha+ia+1):(c=U(a,e),a=U(b,e));c=Math.max(0,c);a=Math.min(ca,a);c<a&&k(0,c,0,a-1).click(d).mousedown(ba)}
function k(a,b,c,d){a=na.rect(a,b,c,d,N);return I(a,N)}function f(a,b){for(var c=n(r.visStart),e=v(n(c),1),f=0;f<ca;f++){var g=new Date(Math.max(c,a)),k=new Date(Math.min(e,b));if(g<k){var h=f*ha+ia,h=na.rect(0,h,0,h,S),g=p(c,g),k=p(c,k);h.top=g;h.height=k-g;I(h,S).click(d).mousedown(u)}v(c,1);v(e,1)}}function h(a){var b=t(a.col);a=a.row;q("allDaySlot")&&a--;0<=a&&K(b,ma+a*q("slotMinutes"));return b}function t(a){return v(n(r.visStart),a*ha+ia)}function l(a){return q("allDaySlot")&&!a.row}function B(a){return(a-
Math.max(V,X)+ca)%ca*ha+ia}function p(a,b){a=n(a,!0);if(b<K(n(a),ma))return 0;if(b>=K(n(a),Z))return ka.height();a=q("slotMinutes");b=60*b.getHours()+b.getMinutes()-ma;var c=Math.floor(b/a),d=Ra[c];d===x&&(d=Ra[c]=ka.find("tr:eq("+c+") td div")[0].offsetTop);return Math.max(0,Math.round(d-1+b%a/a*ya))}function sa(a,b){var c=q("selectHelper");na.build();if(c){var e=U(a,r.visStart)*ha+ia;if(0<=e&&e<ca){var e=na.rect(0,e,0,e,S),k=p(a,a),h=p(a,b);if(h>k){e.top=k;e.height=h-k;e.left+=2;e.width-=5;if(g.isFunction(c)){if(a=
c(a,b))e.position="absolute",e.zIndex=8,da=g(a).css(e).appendTo(S)}else e.isStart=!0,e.isEnd=!0,da=g(aa({title:"",start:a,end:b,className:["fc-select-helper"],editable:!1},e)),da.css("opacity",q("dragOpacity"));da&&(da.click(d).mousedown(u),S.append(da),wa(da,e.width,!0),Za(da,e.height,!0))}}}else f(a,b)}function A(){w();da&&(da.remove(),da=null)}function u(a){if(1==a.which&&q("selectable")){Q(a);var b;qa.start(function(a,c){A();a&&a.col==c.col&&!l(a)?(c=h(c),a=h(a),b=[c,K(n(c),q("slotMinutes")),
a,K(n(a),q("slotMinutes"))].sort(ab),sa(b[0],b[3])):b=null},a);g(document).one("mouseup",function(a){qa.stop();b&&(+b[0]==+b[1]&&L(b[0],!1,a),T(b[0],b[3],!1,a))})}}function L(a,b,c){y("dayClick",F[B(a.getDay())],a,b,c)}var r=this;r.renderAgenda=function(b){ca=b;J=q("theme")?"ui":"fc";X=q("weekends")?0:1;V=q("firstDay");(ea=q("isRTL"))?(ha=-1,ia=ca-1):(ha=1,ia=0);ma=Ka(q("minTime"));Z=Ka(q("maxTime"));fa=q("columnFormat");if(D)G();else{b=J+"-widget-header";var c=J+"-widget-content",e,f,k,h,m,l=0==
q("slotMinutes")%15;e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<ca;f++)e+="<th class='fc- fc-col"+f+" "+b+"'/>";e+="<th class='fc-agenda-gutter "+b+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+b+"'>&nbsp;</th>";for(f=0;f<ca;f++)e+="<td class='fc- fc-col"+f+" "+c+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";D=g(e+("<td class='fc-agenda-gutter "+
c+"'>&nbsp;</td></tr></tbody></table>")).appendTo(a);C=D.find("thead");W=C.find("th").slice(1,-1);H=D.find("tbody");F=H.find("td").slice(0,-1);P=F.find("div.fc-day-content div");M=F.eq(0);R=M.find("> div");Ba(C.add(C.find("tr")));Ba(H.add(H.find("tr")));oa=C.find("th:first");pa=D.find(".fc-agenda-gutter");N=g("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);q("allDaySlot")?(O=g("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(N),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+
b+" fc-agenda-axis'>"+q("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+b+" fc-agenda-gutter'>&nbsp;</th></tr></table>",z=g(e).appendTo(N),ga=z.find("tr"),ga.find("td").click(d).mousedown(ba),oa=oa.add(z.find("th:first")),pa=pa.add(z.find("th.fc-agenda-gutter")),N.append("<div class='fc-agenda-divider "+b+"'><div class='fc-agenda-divider-inner'/></div>")):O=g([]);E=g("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(N);
S=g("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(E);xa=g("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(S);e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";k=Wa();h=K(n(k),Z);K(k,ma);for(f=Sa=0;k<h;f++)m=k.getMinutes(),e+="<tr class='fc-slot"+f+" "+(m?"fc-minor":"")+"'><th class='fc-agenda-axis "+b+"'>"+(l&&m?"&nbsp;":Y(k,q("axisFormat")))+"</th><td class='"+c+"'><div style='position:relative'>&nbsp;</div></td></tr>",K(k,
q("slotMinutes")),Sa++;ka=g(e+"</tbody></table>").appendTo(S);db=ka.find("div:first");ka.find("td").click(d).mousedown(u);oa=oa.add(ka.find("th:first"))}k=ja(new Date);for(b=0;b<ca;b++)f=t(b),c=W.eq(b),c.html(Y(f,fa)),e=F.eq(b),+f==+k?e.addClass(J+"-state-highlight fc-today"):e.removeClass(J+"-state-highlight fc-today"),Pa(c.add(e),f)};r.setWidth=function(a){eb=a;Da.clear();la=0;wa(oa.width("").each(function(a,b){la=Math.max(la,g(b).outerWidth())}),la);a=E[0].clientWidth;(Ta=E.width()-a)?(wa(pa,Ta),
pa.show().prev().removeClass("fc-last")):pa.hide().prev().addClass("fc-last");Ca=Math.floor((a-la)/ca);wa(W.slice(0,-1),Ca)};r.setHeight=function(a,b){a===x&&(a=fb);fb=a;Ra={};var c=H.position().top,d=E.position().top;a=Math.min(a-c,ka.height()+d+1);R.height(a-ra(M));N.css("top",c);E.height(a-d-1);ya=db.height()+1;b&&e()};r.beforeHide=function(){ob=E.scrollTop()};r.afterShow=function(){E.scrollTop(ob)};r.defaultEventEnd=function(a){var b=n(a.start);return a.allDay?b:K(b,q("defaultEventMinutes"))};
r.timePosition=p;r.dayOfWeekCol=B;r.dateCell=function(a){return{row:Math.floor(U(a,r.visStart)/7),col:B(a.getDay())}};r.cellDate=h;r.cellIsAllDay=l;r.allDayRow=function(a){return ga};r.allDayBounds=function(){return{left:la,right:eb-Ta}};r.getHoverListener=function(){return qa};r.colContentLeft=function(a){return Da.left(a)};r.colContentRight=function(a){return Da.right(a)};r.getDaySegmentContainer=function(){return O};r.getSlotSegmentContainer=function(){return xa};r.getMinMinute=function(){return ma};
r.getMaxMinute=function(){return Z};r.getBodyContent=function(){return S};r.getRowCnt=function(){return 1};r.getColCnt=function(){return ca};r.getColWidth=function(){return Ca};r.getSlotHeight=function(){return ya};r.defaultSelectionEnd=function(a,b){return b?n(a):K(n(a),q("slotMinutes"))};r.renderDayOverlay=m;r.renderSelection=function(a,b,c){c?q("allDaySlot")&&m(a,v(n(b),1),!0):sa(a,b)};r.clearSelection=A;r.reportDayClick=L;r.dragStart=function(a,b,c){qa.start(function(a){w();if(a)if(l(a))k(a.row,
a.col,a.row,a.col);else{a=h(a);var b=K(n(a),q("defaultEventMinutes"));f(a,b)}},b)};r.dragStop=function(a,b,c){var d=qa.stop();w();d&&y("drop",a,h(d),l(d),b,c)};gb.call(r,a,c,b);hb.call(r);ib.call(r);zb.call(r);var q=r.opt,y=r.trigger,G=r.clearEvents,I=r.renderOverlay,w=r.clearOverlays,T=r.reportSelection,Q=r.unselect,ba=r.daySelectionMousedown,aa=r.slotSegHtml,Y=c.formatDate,D,C,W,H,F,P,M,R,N,O,z,ga,E,S,xa,ka,db,oa,pa,da,eb,fb,la,Ca,Ta,ya,ob,ca,Sa,na,qa,Da,Ra={},J,V,X,ea,ha,ia,ma,Z,fa;Oa(a.addClass("fc-agenda"));
na=new jb(function(a,b){var c,d,e;W.each(function(a,f){c=g(f);d=c.offset().left;a&&(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();q("allDaySlot")&&(c=ga,d=c.offset().top,a[0]=[d,d+c.outerHeight()]);for(var f=S.offset().top,k=E.offset().top,h=k+E.outerHeight(),m=0;m<Sa;m++)a.push([Math.max(k,Math.min(h,f+ya*m)),Math.max(k,Math.min(h,f+ya*(m+1)))])});qa=new kb(na);Da=new lb(function(a){return P.eq(a)})}function zb(){function a(a){a=Ma(La(a,g.map(a,va),f.visStart,f.visEnd));var b,c=a.length,d,e,k,h=[];
for(b=0;b<c;b++)for(d=a[b],e=0;e<d.length;e++)k=d[e],k.row=0,k.level=b,h.push(k);return h}function c(a){return a.end?n(a.end):K(n(a.start),h("defaultEventMinutes"))}function b(a,b){var c="<",d=a.url,e=cb(a,h),f=e?" style='"+e+"'":"",k=["fc-event","fc-event-skin","fc-event-vert"];l(a)&&k.push("fc-event-draggable");b.isStart&&k.push("fc-corner-top");b.isEnd&&k.push("fc-corner-bottom");k=k.concat(a.className);a.source&&(k=k.concat(a.source.className||[]));c=d?c+("a href='"+fa(a.url)+"'"):c+"div";c+=
" class='"+k.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner fc-event-skin'"+f+"><div class='fc-event-head fc-event-skin'"+f+"><div class='fc-event-time'>"+fa(E(a.start,a.end,h("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+fa(a.title)+"</div></div><div class='fc-event-bg'></div></div>";b.isEnd&&B(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>");return c+("</"+(d?"a":"div")+
">")}function e(a,b,c){var d=b.find("div.fc-event-time");l(a)&&m(a,b,d);c.isEnd&&B(a)&&k(a,b,d);u(a,b)}function d(a,b,c){function d(){k||(b.width(e).height("").draggable("option","grid",null),k=!0)}var e,f,k=!0,g,q=h("isRTL")?-1:1,m=y(),l=D(),p=C(),w=I();b.draggable({zIndex:9,opacity:h("dragOpacity","month"),revertDuration:h("dragRevertDuration"),start:function(w,r){t("eventDragStart",b,a,w,r);P(a,b);e=b.width();m.start(function(e,m,w,t){O();e?(f=!1,g=t*q,e.row?c?k&&(b.width(l-10),Za(b,p*Math.round((a.end?
(a.end-a.start)/6E4:h("defaultEventMinutes"))/h("slotMinutes"))),b.draggable("option","grid",[l,1]),k=!1):f=!0:(N(v(n(a.start),g),v(va(a),g)),d()),f=f||k&&!g):(d(),f=!0);b.draggable("option","revert",f)},w,"drag")},stop:function(c,e){m.stop();O();t("eventDragStop",b,a,c,e);if(f)d(),b.css("filter",""),F(a,b);else{var q=0;k||(q=Math.round((b.offset().top-W().offset().top)/p)*h("slotMinutes")+w-(60*a.start.getHours()+a.start.getMinutes()));M(this,a,g,q,k,c,e)}}})}function m(a,b,c){function d(b){var e=
K(n(a.start),b),f;a.end&&(f=K(n(a.end),b));c.text(E(e,f,h("timeFormat")))}function e(){k&&(c.css("display",""),b.draggable("option","grid",[r,z]),k=!1)}var f,k=!1,g,q,m,l=h("isRTL")?-1:1,p=y(),w=Y(),r=D(),z=C();b.draggable({zIndex:9,scroll:!1,grid:[r,z],axis:1==w?"y":!1,opacity:h("dragOpacity"),revertDuration:h("dragRevertDuration"),start:function(d,w){t("eventDragStart",b,a,d,w);P(a,b);f=b.position();q=m=0;p.start(function(d,f,q,m){b.draggable("option","revert",!d);O();d&&(g=m*l,h("allDaySlot")&&
!d.row?(k||(k=!0,c.hide(),b.draggable("option","grid",null)),N(v(n(a.start),g),v(va(a),g))):e())},d,"drag")},drag:function(a,b){q=Math.round((b.position.top-f.top)/z)*h("slotMinutes");q!=m&&(k||d(q),m=q)},stop:function(c,h){var m=p.stop();O();t("eventDragStop",b,a,c,h);m&&(g||q||k)?M(this,a,g,k?0:q,k,c,h):(e(),b.css("filter",""),b.css(f),d(0),F(a,b))}})}function k(a,b,c){var d,e,f=C();b.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(c,f){d=e=0;P(a,b);b.css("z-index",9);t("eventResizeStart",
this,a,c,f)},resize:function(k,g){d=Math.round((Math.max(f,b.height())-g.originalSize.height)/f);d!=e&&(c.text(E(a.start,d||a.end?K(p(a),h("slotMinutes")*d):null,h("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e);d?R(this,a,0,h("slotMinutes")*d,c,e):(b.css("z-index",8),F(a,b))}})}var f=this;f.renderEvents=function(d,k){J(d);var m,l=d.length,p=[],r=[];for(m=0;m<l;m++)d[m].allDay?p.push(d[m]):r.push(d[m]);h("allDaySlot")&&(ba(a(p),k),L());m=Y();var l=I(),p=G(),O=K(n(f.visStart),
l),y=g.map(r,c),P,z,E,u,M,R;d=[];for(P=0;P<m;P++){E=z=Ma(La(r,y,O,K(n(O),p-l)));var N,A,B;for(u=E.length-1;0<u;u--)for(N=E[u],M=0;M<N.length;M++)for(A=N[M],R=0;R<E[u-1].length;R++)B=E[u-1][R],A.end>B.start&&A.start<B.end&&(B.forward=Math.max(B.forward||0,(A.forward||0)+1));for(E=0;E<z.length;E++)for(u=z[E],M=0;M<u.length;M++)R=u[M],R.col=P,R.level=E,d.push(R);v(O,1,!0)}var r=d.length,C,F,D;z="";p={};O={};P=q();m=Y();(E=h("isRTL"))?(u=-1,N=m-1):(u=1,N=0);for(m=0;m<r;m++)l=d[m],y=l.event,M=w(l.start,
l.start),R=w(l.start,l.end),C=l.col,A=l.level,B=l.forward||0,F=T(C*u+N),D=Q(C*u+N)-F,D=Math.min(D-6,.95*D),C=A?D/(A+B+1):B?2*(D/(B+1)-6):D,A=F+D/(A+B+1)*A*u+(E?D-C:0),l.top=M,l.left=A,l.outerWidth=C,l.outerHeight=R-M,z+=b(y,l);P[0].innerHTML=z;E=P.children();for(m=0;m<r;m++)l=d[m],y=l.event,z=g(E[m]),u=t("eventRender",y,y,z),!1===u?z.remove():(u&&!0!==u&&(z.remove(),z=g(u).css({position:"absolute",top:l.top,left:l.left}).appendTo(P)),l.element=z,y._id===k?e(y,z,l):z[0]._fci=m,H(y,z));Ya(P,d,e);for(m=
0;m<r;m++)if(l=d[m],z=l.element)y=p[k=l.key=bb(z[0])],l.vsides=y===x?p[k]=ra(z,!0):y,y=O[k],l.hsides=y===x?O[k]=Na(z,!0):y,k=z.find("div.fc-event-content"),k.length&&(l.contentTop=k[0].offsetTop);for(m=0;m<r;m++)if(l=d[m],z=l.element)z[0].style.width=Math.max(0,l.outerWidth-l.hsides)+"px",k=Math.max(0,l.outerHeight-l.vsides),z[0].style.height=k+"px",y=l.event,l.contentTop!==x&&10>k-l.contentTop&&(z.find("div.fc-event-time").text(ga(y.start,h("timeFormat"))+" - "+y.title),z.find("div.fc-event-title").remove()),
t("eventAfterRender",y,y,z)};f.compileDaySegs=a;f.clearEvents=function(){A();r().empty();q().empty()};f.slotSegHtml=b;f.bindDaySeg=function(a,b,c){l(a)&&d(a,b,c.isStart);c.isEnd&&B(a)&&aa(a,b,c);u(a,b)};mb.call(f);var h=f.opt,t=f.trigger,l=f.isEventDraggable,B=f.isEventResizable,p=f.eventEnd,J=f.reportEvents,A=f.reportEventClear,u=f.eventElementHandlers,L=f.setHeight,r=f.getDaySegmentContainer,q=f.getSlotSegmentContainer,y=f.getHoverListener,G=f.getMaxMinute,I=f.getMinMinute,w=f.timePosition,T=f.colContentLeft,
Q=f.colContentRight,ba=f.renderDaySegs,aa=f.resizableDayEvent,Y=f.getColCnt,D=f.getColWidth,C=f.getSlotHeight,W=f.getBodyContent,H=f.reportEventElement,F=f.showEvents,P=f.hideEvents,M=f.eventDrop,R=f.eventResize,N=f.renderDayOverlay,O=f.clearOverlays,z=f.calendar,ga=z.formatDate,E=z.formatDates}function gb(a,c,b){function e(a,c){a=r[a];return"object"==typeof a?Ha(a,c||b):a}function d(a,b){return c.trigger.apply(c,[a,b||l].concat(Array.prototype.slice.call(arguments,2),[l]))}function g(a){return ta(a.editable,
(a.source||{}).editable,e("editable"))}function k(a){return a.end?n(a.end):B(a)}function f(a,b,c){a=L[a._id];var d,e=a.length;for(d=0;d<e;d++)if(!b||a[d][0]!=b[0])a[d][c]()}function h(a,b,c,d){c=c||0;for(var e,f=a.length,k=0;k<f;k++)e=a[k],d!==x&&(e.allDay=d),K(v(e.start,b,!0),c),e.end&&(e.end=K(v(e.end,b,!0),c)),p(e,r)}function t(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++)d=a[f],d.end=K(v(k(d),b,!0),c),p(d,r)}var l=this;l.element=a;l.calendar=c;l.name=b;l.opt=e;l.trigger=d;l.isEventDraggable=
function(a){return g(a)&&!e("disableDragging")};l.isEventResizable=function(a){return g(a)&&!e("disableResizing")};l.reportEvents=function(a){A={};var b,c=a.length,d;for(b=0;b<c;b++)d=a[b],A[d._id]?A[d._id].push(d):A[d._id]=[d]};l.eventEnd=k;l.reportEventElement=function(a,b){u.push(b);L[a._id]?L[a._id].push(b):L[a._id]=[b]};l.reportEventClear=function(){u=[];L={}};l.eventElementHandlers=function(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return d("eventClick",
this,a,c)}).hover(function(b){d("eventMouseover",this,a,b)},function(b){d("eventMouseout",this,a,b)})};l.showEvents=function(a,b){f(a,b,"show")};l.hideEvents=function(a,b){f(a,b,"hide")};l.eventDrop=function(a,b,c,e,f,k,g){var m=b.allDay,l=b._id;h(A[l],c,e,f);d("eventDrop",a,b,c,e,f,function(){h(A[l],-c,-e,m);J(l)},k,g);J(l)};l.eventResize=function(a,b,c,e,f,k){var g=b._id;t(A[g],c,e);d("eventResize",a,b,c,e,function(){t(A[g],-c,-e);J(g)},f,k);J(g)};var B=l.defaultEventEnd,p=c.normalizeEvent,J=c.reportEventChange,
A={},u=[],L={},r=c.options}function mb(){function a(a){var b=t("isRTL"),c,d=a.length,e,f,k,g;c=I();var h=c.left,m=c.right,l,n,q,r,u,v="";for(c=0;c<d;c++)e=a[c],f=e.event,g=["fc-event","fc-event-skin","fc-event-hori"],B(f)&&g.push("fc-event-draggable"),b?(e.isStart&&g.push("fc-corner-right"),e.isEnd&&g.push("fc-corner-left"),l=Q(e.end.getDay()-1),n=Q(e.start.getDay()),q=e.isEnd?w(l):h,r=e.isStart?K(n):m):(e.isStart&&g.push("fc-corner-left"),e.isEnd&&g.push("fc-corner-right"),l=Q(e.start.getDay()),
n=Q(e.end.getDay()-1),q=e.isStart?w(l):h,r=e.isEnd?K(n):m),g=g.concat(f.className),f.source&&(g=g.concat(f.source.className||[])),k=f.url,u=cb(f,t),v=k?v+("<a href='"+fa(k)+"'"):v+"<div",v+=" class='"+g.join(" ")+"' style='position:absolute;z-index:8;left:"+q+"px;"+u+"'><div class='fc-event-inner fc-event-skin'"+(u?" style='"+u+"'":"")+">",!f.allDay&&e.isStart&&(v+="<span class='fc-event-time'>"+fa(C(f.start,f.end,t("timeFormat")))+"</span>"),v+="<span class='fc-event-title'>"+fa(f.title)+"</span></div>",
e.isEnd&&p(f)&&(v+="<div class='ui-resizable-handle ui-resizable-"+(b?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),v+="</"+(k?"a":"div")+">",e.left=q,e.outerWidth=r-q,e.startCol=l,e.endCol=n+1;return v}function c(a,b){var c,d=a.length,e,f,k;for(c=0;c<d;c++)e=a[c],f=e.event,k=g(b[c]),f=l("eventRender",f,f,k),!1===f?k.remove():(f&&!0!==f&&(f=g(f).css({position:"absolute",left:e.left}),k.replaceWith(f),k=f),e.element=k)}function b(a){var b,c=a.length,d,e,f,k,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key=
bb(e[0]),k=g[f],k===x&&(k=g[f]=Na(e,!0)),d.hsides=k}function e(a){var b,c=a.length,d,e;for(b=0;b<c;b++)if(d=a[b],e=d.element)e[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px"}function d(a){var b,c=a.length,d,e,f,k,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key,k=g[f],k===x&&(k=g[f]=$a(e)),d.outerHeight=e[0].offsetHeight+k}function m(){var a,b=q(),c=[];for(a=0;a<b;a++)c[a]=G(a).find("td:first div.fc-day-content > div");return c}function k(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d[b]=a[b][0].offsetTop;
return d}function f(a,b){var c,d=a.length,e,f;for(c=0;c<d;c++)if(e=a[c],f=e.element)f[0].style.top=b[e.row]+(e.top||0)+"px",e=e.event,l("eventAfterRender",e,e,f)}var h=this;h.renderDaySegs=function(g,h){var l=Y(),n=q(),p=y(),r=0,t,u,w=g.length,v,B;l[0].innerHTML=a(g);c(g,l.children());u=g.length;var x;for(t=0;t<u;t++)B=g[t],(x=B.element)&&A(B.event,x);u=g.length;var C;for(t=0;t<u;t++)if(B=g[t],x=B.element)C=B.event,C._id===h?D(C,x,B):x[0]._fci=t;Ya(l,g,D);b(g);e(g);d(g);h=m();for(l=0;l<n;l++){t=[];
for(u=0;u<p;u++)t[u]=0;for(;r<w&&(v=g[r]).row==l;){u=Math.max.apply(Math,t.slice(v.startCol,v.endCol));v.top=u;u+=v.outerHeight;for(B=v.startCol;B<v.endCol;B++)t[B]=u;r++}h[l].height(Math.max.apply(Math,t))}f(g,k(h))};h.resizableDayEvent=function(p,w,B){var A=t("isRTL"),x=A?"w":"e",z=w.find("div.ui-resizable-"+x),C=!1;Oa(w);w.mousedown(function(a){a.preventDefault()}).click(function(a){C&&(a.preventDefault(),a.stopImmediatePropagation())});z.mousedown(function(t){function z(a){l("eventResizeStop",
this,p,a);g("body").css("cursor","");D.stop();H();V&&r(this,p,V,0,a);setTimeout(function(){C=!1},0)}if(1==t.which){C=!0;var D=h.getHoverListener(),G=q(),I=y(),K=A?-1:1,Q=A?I-1:0,T=w.css("top"),V,U,Z=g.extend({},p),X=ba(p.start);F();g("body").css("cursor",x+"-resize").one("mouseup",z);l("eventResizeStart",this,p,t);D.start(function(h,l){if(h){var t=Math.max(X.row,h.row);h=h.col;1==G&&(t=0);t==X.row&&(h=A?Math.min(X.col,h):Math.max(X.col,h));V=7*t+h*K+Q-(7*l.row+l.col*K+Q);l=v(J(p),V,!0);if(V){Z.end=
l;t=U;h=aa([Z]);var r=B.row,q=g("<div/>"),w=Y(),y=h.length,z;q[0].innerHTML=a(h);q=q.children();w.append(q);c(h,q);b(h);e(h);d(h);f(h,k(m()));q=[];for(w=0;w<y;w++)if(z=h[w].element)h[w].row===r&&z.css("top",T),q.push(z[0]);U=g(q);U.find("*").css("cursor",x+"-resize");t&&t.remove();L(p)}else U&&(u(p),U.remove(),U=null);H();W(p.start,v(n(l),1))}},t)}})};var t=h.opt,l=h.trigger,B=h.isEventDraggable,p=h.isEventResizable,J=h.eventEnd,A=h.reportEventElement,u=h.showEvents,L=h.hideEvents,r=h.eventResize,
q=h.getRowCnt,y=h.getColCnt,G=h.allDayRow,I=h.allDayBounds,w=h.colContentLeft,K=h.colContentRight,Q=h.dayOfWeekCol,ba=h.dateCell,aa=h.compileDaySegs,Y=h.getDaySegmentContainer,D=h.bindDaySeg,C=h.calendar.formatDates,W=h.renderDayOverlay,H=h.clearOverlays,F=h.clearSelection}function ib(){function a(a){h&&(h=!1,f(),d("unselect",null,a))}function c(a,b,c,e){h=!0;d("select",null,a,b,c,e)}var b=this;b.select=function(b,d,e){a();d||(d=m(b,e));k(b,d,e);c(b,d,e)};b.unselect=a;b.reportSelection=c;b.daySelectionMousedown=
function(d){var h=b.cellDate,m=b.cellIsAllDay,p=b.getHoverListener(),n=b.reportDayClick;if(1==d.which&&e("selectable")){a(d);var v;p.start(function(a,b){f();a&&m(a)?(v=[h(b),h(a)].sort(ab),k(v[0],v[1],!0)):v=null},d);g(document).one("mouseup",function(a){p.stop();v&&(+v[0]==+v[1]&&n(v[0],!0,a),c(v[0],v[1],!0,a))})}};var e=b.opt,d=b.trigger,m=b.defaultSelectionEnd,k=b.renderSelection,f=b.clearSelection,h=!1;e("selectable")&&e("unselectAuto")&&g(document).mousedown(function(b){var c=e("unselectCancel");
c&&g(b.target).parents(c).length||a(b)})}function hb(){this.renderOverlay=function(b,e){var d=c.shift();d||(d=g("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));d[0].parentNode!=e[0]&&d.appendTo(e);a.push(d.css(b).show());return d};this.clearOverlays=function(){for(var b;b=a.shift();)c.push(b.hide().unbind())};var a=[],c=[]}function jb(a){var c,b;this.build=function(){c=[];b=[];a(c,b)};this.cell=function(a,d){var g=c.length,k=b.length,f,h=-1,n=-1;for(f=0;f<g;f++)if(d>=c[f][0]&&
d<c[f][1]){h=f;break}for(f=0;f<k;f++)if(a>=b[f][0]&&a<b[f][1]){n=f;break}return 0<=h&&0<=n?{row:h,col:n}:null};this.rect=function(a,d,g,k,f){f=f.offset();return{top:c[a][0]-f.top,left:b[d][0]-f.left,width:b[k][1]-b[d][0],height:c[g][1]-c[a][0]}}}function kb(a){function c(b){b.pageX===x&&(b.pageX=b.originalEvent.pageX,b.pageY=b.originalEvent.pageY);b=a.cell(b.pageX,b.pageY);if(!b!=!m||b&&(b.row!=m.row||b.col!=m.col))b?(d||(d=b),e(b,d,b.row-d.row,b.col-d.col)):e(b,d),m=b}var b,e,d,m;this.start=function(k,
f,h){e=k;d=m=null;a.build();c(f);b=h||"mousemove";g(document).bind(b,c)};this.stop=function(){g(document).unbind(b,c);return m}}function lb(a){var c=this,b={},e={},d={};c.left=function(c){return e[c]=e[c]===x?(b[c]=b[c]||a(c)).position().left:e[c]};c.right=function(e){return d[e]=d[e]===x?c.left(e)+(b[e]=b[e]||a(e)).width():d[e]};c.clear=function(){b={};e={};d={}}}var ua={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,
lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},Ab={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},
buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},J=g.fullCalendar={version:"1.5.4"},X=J.views={};g.fn.fullCalendar=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1),b;this.each(function(){var d=g.data(this,"fullCalendar");d&&g.isFunction(d[a])&&(d=d[a].apply(d,c),b===x&&(b=d),"destroy"==a&&g.removeData(this,"fullCalendar"))});return b!==x?b:this}var e=a.eventSources||[];delete a.eventSources;a.events&&(e.push(a.events),delete a.events);a=g.extend(!0,
{},ua,a.isRTL||a.isRTL===x&&ua.isRTL?Ab:{},a);this.each(function(b,c){b=g(c);c=new pb(b,a,e);b.data("fullCalendar",c);c.render()});return this};J.sourceNormalizers=[];J.sourceFetchers=[];var sb={dataType:"json",cache:!1},tb=1;J.addDays=v;J.cloneDate=n;J.parseDate=Ia;J.parseISO8601=Xa;J.parseTime=Ka;J.formatDate=ea;J.formatDates=Ga;var xb="sun mon tue wed thu fri sat".split(" "),ub=36E5,vb={s:function(a){return a.getSeconds()},ss:function(a){return Z(a.getSeconds())},m:function(a){return a.getMinutes()},
mm:function(a){return Z(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Z(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Z(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Z(a.getDate())},ddd:function(a,c){return c.dayNamesShort[a.getDay()]},dddd:function(a,c){return c.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Z(a.getMonth()+1)},MMM:function(a,c){return c.monthNamesShort[a.getMonth()]},
MMMM:function(a,c){return c.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return ea(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();return 10<a&&20>a?"th":["st","nd","rd"][a%10-1]||"th"}};J.applyAll=Aa;X.month=
function(a,c){var b=this;b.render=function(a,c){c&&(Fa(a,c),a.setDate(1));a=n(a,!0);a.setDate(1);c=Fa(n(a),1);var h=n(a),t=n(c),l=e("firstDay"),x=e("weekends")?0:1;x&&(V(h),V(t,-1,!0));v(h,-((h.getDay()-Math.max(l,x)+7)%7));v(t,(7-t.getDay()+Math.max(l,x))%7);l=Math.round((t-h)/6048E5);"fixed"==e("weekMode")&&(v(t,7*(6-l)),l=6);b.title=g(a,e("titleFormat"));b.start=a;b.end=c;b.visStart=h;b.visEnd=t;d(6,l,x?5:7,!0)};Qa.call(b,a,c,"month");var e=b.opt,d=b.renderBasic,g=c.formatDate};X.basicWeek=function(a,
c){var b=this;b.render=function(a,c){c&&v(a,7*c);a=v(n(a),-((a.getDay()-e("firstDay")+7)%7));c=v(n(a),7);var h=n(a),t=n(c),l=e("weekends");l||(V(h),V(t,-1,!0));b.title=g(h,v(n(t),-1),e("titleFormat"));b.start=a;b.end=c;b.visStart=h;b.visEnd=t;d(1,1,l?7:5,!1)};Qa.call(b,a,c,"basicWeek");var e=b.opt,d=b.renderBasic,g=c.formatDates};X.basicDay=function(a,c){var b=this;b.render=function(a,c){c&&(v(a,c),e("weekends")||V(a,0>c?-1:1));b.title=g(a,e("titleFormat"));b.start=b.visStart=n(a,!0);b.end=b.visEnd=
v(n(b.start),1);d(1,1,1,!1)};Qa.call(b,a,c,"basicDay");var e=b.opt,d=b.renderBasic,g=c.formatDate};g.extend(!0,ua,{weekMode:"fixed"});X.agendaWeek=function(a,c){var b=this;b.render=function(a,c){c&&v(a,7*c);a=v(n(a),-((a.getDay()-e("firstDay")+7)%7));c=v(n(a),7);var h=n(a),t=n(c),l=e("weekends");l||(V(h),V(t,-1,!0));b.title=g(h,v(n(t),-1),e("titleFormat"));b.start=a;b.end=c;b.visStart=h;b.visEnd=t;d(l?7:5)};nb.call(b,a,c,"agendaWeek");var e=b.opt,d=b.renderAgenda,g=c.formatDates};X.agendaDay=function(a,
c){var b=this;b.render=function(a,c){c&&(v(a,c),e("weekends")||V(a,0>c?-1:1));c=n(a,!0);var h=v(n(c),1);b.title=g(a,e("titleFormat"));b.start=b.visStart=c;b.end=b.visEnd=h;d(1)};nb.call(b,a,c,"agendaDay");var e=b.opt,d=b.renderAgenda,g=c.formatDate};g.extend(!0,ua,{allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);